create sequence seq_dept2
maxvalue 5
cycle
cache 3;

select seq_dept2.nextval from dual;


user_sequences


excercises
1. write a query, which uses WITH clause and returns
name of the city, last name and first name of all employees working in this city with salaries greater, than average salary for this city and this average salary

with city_salaries as (SELECT l.city, avg(e.salary) as avg_salary
                       FROM locations l, employees e, departments d
                       WHERE d.location_id = l.location_id AND d.department_id = e.department_id 
                       GROUP BY l.city)
select e.last_name, e.first_name, c.city, c.avg_salary
from city_salaries c, employees e, departments d, locations l
where  (d.location_id = l.location_id AND d.department_id = e.department_id and c.city = l.city)  AND e.salary > c.avg_salary



2. create a sequence seq|_location, which
- starts with 1800
- increments by 100

use this sequence to insert the following new row into locations table:
location_id - next value generated by seq_location sequence
city        - 'Unknown'
All other colums should be set to NULLs


CREATE SEQUENCE seq_dept
START WITH 1800
INCREMENT BY 100
CACHE 3;

CREATE TABLE locations2 AS SELECT * FROM locations;

INSERT INTO locations2 (location_id, city)
VALUES (seq_dept.nextval,'Unknown')

UPDATE locations2 
SET street_address = NULL, postal_code = NULL, state_province = NULL, country_id = NULL

SELECT * from locations2